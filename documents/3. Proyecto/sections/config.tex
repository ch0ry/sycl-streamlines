\usepackage{graphicx}
\usepackage{svg}
\usepackage{multirow}
\usepackage{minted}

% \usepackage[dvipsnames]{xcolor}
\usepackage{listings}

\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\newcommand\YAMLcolonstyle{\color{red}}
\newcommand\YAMLkeystyle{\color{black}}
\newcommand\YAMLvaluestyle{\color{blue}}

\makeatletter

\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  % frame=single
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\small\color{purple}\ttfamily,
  basicstyle={\linespread{0.8}\small\ttfamily},
  stringstyle=\small\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1     
                {|}{{\textcolor{red}\textbar}}1 
                {\ -\ }{{\mdseries\ -\ }}3,
  showstringspaces=false,
  aboveskip=1mm,
  belowskip=1mm,
}

\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{numb}{magenta!60!black}

\usepackage{enumitem}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    commentstyle=\color{eclipseStrings}, % style of comment
    stringstyle=\color{eclipseKeywords}, % style of strings
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    string=[s]{"}{"},
    comment=[l]{:\ "},
    morecomment=[l]{:"},
    literate=
        *{0}{{{\color{numb}0}}}{1}
         {1}{{{\color{numb}1}}}{1}
         {2}{{{\color{numb}2}}}{1}
         {3}{{{\color{numb}3}}}{1}
         {4}{{{\color{numb}4}}}{1}
         {5}{{{\color{numb}5}}}{1}
         {6}{{{\color{numb}6}}}{1}
         {7}{{{\color{numb}7}}}{1}
         {8}{{{\color{numb}8}}}{1}
         {9}{{{\color{numb}9}}}{1}
}


% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\renewcommand{\floatpagefraction}{0.6} %default: 0.6

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}

\usepackage[center]{caption}

\usepackage{longtable}

% \counterwithout{figure}{chapter}
% \counterwithout{table}{chapter}

\usepackage{array}
  \renewcommand{\arraystretch}{1.5}

\usepackage{fontawesome}
\usepackage{pifont}
\usepackage{newunicodechar}
  \newunicodechar{✓}{\ding{51}}
  \newunicodechar{✗}{\ding{55}}

\usepackage{fancyhdr}
\fancypagestyle{plain}{
    \lhead{}
    \fancyhead[R]{\thepage}
    \fancyhead[L]{MECANISMOS DE ADAPTACIÓN}
    \renewcommand{\headrulewidth}{0pt}
    \fancyfoot{}
}

\usepackage{cite}
    
\pagestyle{plain}
\newlength\FHoffset
% \setlength\FHoffset{1cm}
% \addtolength\headwidth{2\FHoffset}

\fancyheadoffset{\FHoffset}
% \fancyhead[R]{\thepage}
% \fancyhead[L]{}
% \renewcommand{\headrulewidth}{0pt}
% \fancyfoot{}

\usepackage{float}

\usepackage{apacite}

\usepackage{url}
\usepackage[spanish]{babel}

\usepackage{setspace}
\doublespacing

\usepackage{geometry}
\geometry {
    letterpaper,
    left = 1in,
    right = 1in,
    bottom = 1in,
    top = 1in
}

\usepackage[page]{appendix}

\setcounter{tocdepth}{3}
\renewcommand{\appendixtocname}{Lista de apéndices}
\renewcommand{\appendixpagename}{}

\makeatletter
\let\oldappendix\appendices

\captionsetup{justification=raggedright, singlelinecheck=false, labelfont={it,bf}}

\g@addto@macro\tableofcontents{%
  % Store the current toc file for later usage
  \let\tf@toc@orig\tf@toc
}
\renewcommand{\appendices}{%
  \clearpage
  \renewcommand{\thesubsection}{\thesection\arabic{subsection}}
  % From now, everything goes to the app - file and not to the toc
  \let\tf@toc\tf@app
  \addtocontents{app}{\protect\setcounter{tocdepth}{2}}
  \immediate\write\@auxout{%
    \string\let\string\tf@toc\string\tf@app
  }
  \oldappendix
}%

\g@addto@macro\endappendices{%
  % Switch back to the old toc file handle
  \let\tf@toc\tf@toc@orig
  \immediate\write\@auxout{%
    \string\let\string\tf@toc\string\tf@toc@orig
  }%
}  

\newcommand{\listofappendices}{%
  \begingroup
  \renewcommand{\contentsname}{\appendixtocname}
  \let\@oldstarttoc\@starttoc
  \def\@starttoc##1{\@oldstarttoc{app}}
  \tableofcontents% Reusing the code for \tableofcontents with different \contentsname and different file handle app
  \endgroup
}

\makeatother


\newcommand{\skipline}{\par\null\par}

\newcommand*{\titulo}[1]{\def\tit{#1}}
\newcommand*{\autor}[1]{\def\nam{#1}}
\newcommand*{\optando}[1]{\def\opta{#1}}

\newcommand*{\director}[3][]{\def\tdir{#1}\def\dir{#2}\def\edir{#3}}
\newcommand*{\codirector}[3][]{\def\tcdir{#1}\def\cdir{#2}\def\ecdir{#3}}

\newcommand*{\universidad}[1]{\def\uni{#1}}
\newcommand*{\facultad}[1]{\def\fac{#1}}
\newcommand*{\escuela}[1]{\def\esc{#1}}

\renewcommand\contentsname{Tabla de Contenidos}
\addto\captionsspanish{\renewcommand\tablename{Tabla}}

\usepackage{titlesec}
\titleformat{\section}{\centering\normalfont\normalsize\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\raggedright\normalfont\normalsize\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\raggedright\normalfont\small\bfseries\slshape}{\thesubsubsection}{1em}{}

\newcommand{\fakesection}[1]{%
  \par\refstepcounter{section}% Increase section counter
  \sectionmark{#1}% Add section mark (header)
  \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}% Add section to ToC
  % Add more content here, if needed.
}


\newcommand*{\glosario}[2][]{\noindent \textbf{{#1}}: {#2} \\}

\newcommand*{\citeautoryear}[1]{\citeauthor{#1} \citeyear{#1}}